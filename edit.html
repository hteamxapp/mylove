<div id="editOverlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); display: none; flex-direction: column;
  justify-content: flex-end; z-index: 1001;">
  <div class="edit-panel" style="background: #fff; border-top-left-radius: 20px; border-top-right-radius: 20px; padding: 20px;">
    <input type="text" id="editLabel" placeholder="Tiêu đề">

    <label>Tên người 1:</label>
    <input type="text" id="editName1" placeholder="Tên người 1">
    <label>Giới tính:</label>
    <select id="editGender1">
      <option value="male">Nam</option>
      <option value="female">Nữ</option>
    </select>
    <label>Ngày sinh:</label><br>
    <select id="birth1Day"></select>
    <select id="birth1Month"></select>
    <select id="birth1Year"></select><br>
    <label>Ảnh đại diện:</label>
    <input type="file" accept="image/*" onchange="uploadImg(event, 'avatar1')">

    <label style="margin-top: 10px;">Tên người 2:</label>
    <input type="text" id="editName2" placeholder="Tên người 2">
    <label>Giới tính:</label>
    <select id="editGender2">
      <option value="female">Nữ</option>
      <option value="male">Nam</option>
    </select>
    <label>Ngày sinh:</label><br>
    <select id="birth2Day"></select>
    <select id="birth2Month"></select>
    <select id="birth2Year"></select><br>
    <label>Ảnh đại diện:</label>
    <input type="file" accept="image/*" onchange="uploadImg(event, 'avatar2')">

    <hr>
    <label>Ngày bắt đầu yêu:</label><br>
    <select id="loveDay"></select>
    <select id="loveMonth"></select>
    <select id="loveYear"></select><br>

    <label>Ảnh nền:</label>
    <input type="file" accept="image/*" onchange="uploadImg(event, 'backgroundImg')">

    <button onclick="saveEdit()">Lưu & Đóng</button>
  </div>
</div>
<script>
function populateSelect(id, start, end, reverse = false) {
  const sel = document.getElementById(id);
  sel.innerHTML = "";
  const range = Array.from({length: end - start + 1}, (_, i) => start + i);
  if (reverse) range.reverse();
  range.forEach(v => {
    const opt = document.createElement("option");
    opt.value = v;
    opt.textContent = v;
    sel.appendChild(opt);
  });
}
function initDateSelectors() {
  populateSelect("birth1Day", 1, 31);
  populateSelect("birth1Month", 1, 12);
  populateSelect("birth1Year", 1950, new Date().getFullYear(), true);
  populateSelect("birth2Day", 1, 31);
  populateSelect("birth2Month", 1, 12);
  populateSelect("birth2Year", 1950, new Date().getFullYear(), true);
  populateSelect("loveDay", 1, 31);
  populateSelect("loveMonth", 1, 12);
  populateSelect("loveYear", 2000, new Date().getFullYear(), true);
}
document.addEventListener("DOMContentLoaded", initDateSelectors);
</script>
